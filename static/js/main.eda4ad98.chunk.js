(this.webpackJsonppdfviewer=this.webpackJsonppdfviewer||[]).push([[0],{121:function(e,t){},122:function(e,t){},123:function(e,t){},124:function(e,t){},125:function(e,t){},149:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),i=a(13),o=a.n(i),r=(a(97),a(42)),c=a(71),d=a(28),l=a(85),h=a(84),m=a(61),u=(a(98),a(41)),j=a(76),b=a.n(j),v=a(180),S=a(184),f=a(185),O=a(52),p=a.n(O),g=a(51),x=a.n(g),N=a(79),C=a.n(N),w=a(80),R=a.n(w),k=a(81),P=a.n(k),y=a(82),z=a.n(y),B=a(83),I=a.n(B),D=a(62),F=a.n(D),M=a(77),L=a.n(M),E=a(7),U="//cdn.jsdelivr.net/npm/pdfjs-dist@".concat(u.c.version,"/build/pdf.worker.min.js");u.c.GlobalWorkerOptions.workerSrc=U;var T=function e(){Object(m.a)(this,e)};T.baseUrl="https://damlfvkdmp.cfolks.pl/myscans/";var Y=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(m.a)(this,a),(s=t.call(this,e)).handleOpenClick=function(e){var t=document.createElement("a");t.href=T.baseUrl+"view/"+e.name,t.target="_blank",t.dispatchEvent(new MouseEvent("click"))},s.handleDownloadClick=function(e){var t=document.createElement("a");t.href=T.baseUrl+"download/"+e.name,t.download="file.pdf",t.dispatchEvent(new MouseEvent("click"))},s.handlePrintClick=function(e){L()(T.baseUrl+"view/"+e.name)},s.handleDeleteClick=function(e){fetch(T.baseUrl+"delete/"+e.name).then((function(e){return s.loadPdfs(),e.text()})).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))},s.documentLoader=Object(E.jsx)("div",{className:"emptyDocument",children:Object(E.jsx)("div",{className:"loadingPage",children:Object(E.jsx)(F.a,{type:"Rings",color:"#00BFFF",height:80,width:80})})}),s.handlePageChange=function(e,t){s.setState({page:t})},s.handleNameSort=function(){var e=Object(r.a)(s.state.allItems.sort((function(e,t){return e.name.localeCompare(t.name)}))),t=!s.state.nameSortedReversed;s.setState({displayedItems:t?e.reverse():e,isNameSorted:!0,nameSortedReversed:t,isDateSorted:!1,isSizeSorted:!1})},s.handleDateSort=function(){var e=Object(r.a)(s.state.allItems.sort((function(e,t){return e.createdOn.toLocaleString().localeCompare(t.createdOn.toLocaleString())}))),t=!s.state.dateSortedReverse;s.setState({displayedItems:t?e.reverse():e,isNameSorted:!1,isDateSorted:!0,dateSortedReverse:t,isSizeSorted:!1})},s.handleSizeSort=function(){var e=Object(r.a)(s.state.allItems.sort((function(e,t){return e.size-t.size}))),t=!s.state.sizeSortedReverse;s.setState({displayedItems:t?e.reverse():e,isNameSorted:!1,isDateSorted:!1,isSizeSorted:!0,sizeSortedReverse:t})},s.handleInputChange=function(e){if(""===e)s.setState({displayedItems:s.state.allItems,isNameSorted:!1,isDateSorted:!1,isSizeSorted:!1});else{var t=Object(r.a)(s.state.allItems.filter((function(t){return t.name.includes(e)})));s.setState({displayedItems:t,isNameSorted:!1,isDateSorted:!1,isSizeSorted:!1})}console.log(e)},s.state={itemsLoaded:!1,isModalOpen:!1,allItems:[],displayedItems:[],page:1,itemsPerRow:5,isNameSorted:!1,nameSortedReversed:!1,isDateSorted:!1,dateSortedReverse:!1,isSizeSorted:!1,sizeSortedReverse:!1},s.handlePageChange=s.handlePageChange.bind(Object(d.a)(s)),s.handleNameSort=s.handleNameSort.bind(Object(d.a)(s)),s.handleDateSort=s.handleDateSort.bind(Object(d.a)(s)),s.handleSizeSort=s.handleSizeSort.bind(Object(d.a)(s)),s.loadPdfs=s.loadPdfs.bind(Object(d.a)(s)),s}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.loadPdfs()}},{key:"loadPdfs",value:function(){var e=this;fetch(T.baseUrl).then((function(e){return e.json()})).then((function(t){e.setState({itemsLoaded:!0,allItems:t,displayedItems:t})})).catch((function(t){e.setState({itemsLoaded:!0}),console.log(t)}))}},{key:"documentsRender",value:function(e){var t=this;return Object(E.jsx)("div",{className:"pdfsContainer",children:e.map((function(e){return Object(E.jsxs)("div",{children:[Object(E.jsxs)(u.a,{className:"documentContainer",loading:t.documentLoader,file:T.baseUrl+"view/"+e.name,children:[Object(E.jsx)(u.b,{pageNumber:1}),Object(E.jsxs)("div",{className:"documentFront",children:[Object(E.jsxs)("div",{className:"docFrontBtnRow",children:[Object(E.jsx)(v.a,{className:"documentFrontButton",variant:"outlined",onClick:function(){return t.handleOpenClick(e)},children:Object(E.jsx)(C.a,{fontSize:"large"})}),Object(E.jsx)(v.a,{className:"documentFrontButton",variant:"outlined",onClick:function(){return t.handleDownloadClick(e)},children:Object(E.jsx)(R.a,{fontSize:"large"})})]}),Object(E.jsxs)("div",{className:"docFrontBtnRow",children:[Object(E.jsx)(v.a,{className:"documentFrontButton",variant:"outlined",onClick:function(){return t.handlePrintClick(e)},children:Object(E.jsx)(P.a,{fontSize:"large"})}),Object(E.jsx)(v.a,{className:"documentFrontButton",variant:"outlined",onClick:function(){return t.handleDeleteClick(e)},children:Object(E.jsx)(z.a,{fontSize:"large",color:"error"})})]})]})]},Math.random()),Object(E.jsxs)("div",{className:"descriptionContainer",children:[Object(E.jsx)("div",{className:"documentName",children:e.name}),Object(E.jsx)("div",{className:"documentDate",children:b()(e.createdOn).format("MMMM Do YYYY, h:mm:ss")}),Object(E.jsxs)("div",{className:"documentSize",children:[(e.size/1024).toFixed(2)," KB"]})]})]},Math.random())}))})}},{key:"render",value:function(){var e=this;return Object(E.jsx)("div",{className:"appBody",children:this.state.itemsLoaded?Object(E.jsxs)("div",{children:[Object(E.jsxs)("div",{className:"functionsBar",children:[Object(E.jsxs)("div",{className:"sortButtons",children:[Object(E.jsx)("div",{className:"sortTitle",children:"Sort by:"}),Object(E.jsxs)(v.a,{className:this.state.isNameSorted?"sortButton active":"sortButton",variant:"outlined",onClick:this.handleNameSort,children:["NAME"," ",this.state.nameSortedReversed?Object(E.jsx)(x.a,{}):Object(E.jsx)(p.a,{})]}),Object(E.jsxs)(v.a,{className:this.state.isDateSorted?"sortButton active":"sortButton",variant:"outlined",onClick:this.handleDateSort,children:["DATE"," ",this.state.dateSortedReverse?Object(E.jsx)(x.a,{}):Object(E.jsx)(p.a,{})]}),Object(E.jsxs)(v.a,{className:this.state.isSizeSorted?"sortButton active":"sortButton",variant:"outlined",onClick:this.handleSizeSort,children:["SIZE"," ",this.state.sizeSortedReverse?Object(E.jsx)(x.a,{}):Object(E.jsx)(p.a,{})]})]}),Object(E.jsx)(v.a,{className:"refreshButton",variant:"outlined",onClick:this.loadPdfs,children:Object(E.jsx)(I.a,{})}),Object(E.jsx)("div",{className:"searchContainer",children:Object(E.jsx)(S.a,{label:"Filter by Name",variant:"outlined",onChange:function(t){return e.handleInputChange(t.target.value)}})})]}),Object(E.jsxs)("div",{className:"rendersParent",children:[this.documentsRender(this.state.displayedItems.slice((this.state.page-1)*(2*this.state.itemsPerRow),(this.state.page-1)*(2*this.state.itemsPerRow)+this.state.itemsPerRow)),(this.state.page-1)*(2*this.state.itemsPerRow)+this.state.itemsPerRow<this.state.displayedItems.length?this.documentsRender(this.state.displayedItems.slice((this.state.page-1)*(2*this.state.itemsPerRow)+this.state.itemsPerRow,(this.state.page-1)*(2*this.state.itemsPerRow)+2*this.state.itemsPerRow)):null]}),Object(E.jsxs)("div",{className:"paginationContainer",children:[Object(E.jsx)("div",{style:{marginRight:"auto"}}),Object(E.jsx)(f.a,{color:"primary",style:{marginRight:"10px"},page:this.state.page,onChange:this.handlePageChange,count:Math.ceil(this.state.displayedItems.length/(2*this.state.itemsPerRow)),showFirstButton:!0,showLastButton:!0})]})]}):Object(E.jsx)("div",{className:"loadingPage",children:Object(E.jsx)(F.a,{type:"Rings",color:"#00BFFF",height:80,width:80})})})}}]),a}(n.a.Component),A=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,186)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,i=t.getLCP,o=t.getTTFB;a(e),s(e),n(e),i(e),o(e)}))};o.a.render(Object(E.jsx)(n.a.StrictMode,{children:Object(E.jsx)(Y,{})}),document.getElementById("root")),A()},97:function(e,t,a){},98:function(e,t,a){}},[[149,1,2]]]);
//# sourceMappingURL=main.eda4ad98.chunk.js.map